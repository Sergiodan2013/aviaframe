<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aviaframe Widget - Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 40px 20px;
      min-height: 100vh;
    }

    .demo-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .demo-header {
      text-align: center;
      color: white;
      margin-bottom: 60px;
    }

    .demo-header h1 {
      font-size: 48px;
      margin-bottom: 16px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .demo-header p {
      font-size: 20px;
      opacity: 0.9;
    }

    .examples-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 40px;
      margin-bottom: 60px;
    }

    .example-card {
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .example-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 8px;
      color: #1f2937;
    }

    .example-desc {
      color: #6b7280;
      margin-bottom: 24px;
      font-size: 14px;
    }

    .widget-wrapper {
      margin-top: 20px;
    }

    .color-picker-section {
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      margin-bottom: 40px;
    }

    .color-picker-title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #1f2937;
    }

    .color-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .color-control {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .color-control label {
      font-weight: 500;
      color: #4b5563;
      font-size: 14px;
    }

    .color-input-wrapper {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .color-input-wrapper input[type="color"] {
      width: 60px;
      height: 40px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .color-input-wrapper input[type="text"] {
      flex: 1;
      padding: 10px 12px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-family: monospace;
      font-size: 14px;
    }

    .preset-colors {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .preset-btn {
      padding: 10px 20px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;
    }

    .preset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .footer {
      text-align: center;
      color: white;
      margin-top: 60px;
      opacity: 0.9;
    }

    .footer a {
      color: white;
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .examples-grid {
        grid-template-columns: 1fr;
      }

      .demo-header h1 {
        font-size: 32px;
      }

      .color-controls {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <div class="demo-header">
      <h1>‚úàÔ∏è Aviaframe Widget Demo</h1>
      <p>Embed flight search in 2 minutes ‚Ä¢ Fully customizable ‚Ä¢ Mobile-friendly</p>
    </div>

    <!-- Live Color Customization -->
    <div class="color-picker-section">
      <h2 class="color-picker-title">üé® Live Customization</h2>
      <p class="example-desc">
        Try changing colors and see the widget update in real-time!
      </p>

      <div class="color-controls">
        <div class="color-control">
          <label>Primary Color</label>
          <div class="color-input-wrapper">
            <input type="color" id="brandColor" value="#3b82f6">
            <input type="text" id="brandColorHex" value="#3b82f6" maxlength="7">
          </div>
        </div>

        <div class="color-control">
          <label>Accent Color</label>
          <div class="color-input-wrapper">
            <input type="color" id="accentColor" value="#10b981">
            <input type="text" id="accentColorHex" value="#10b981" maxlength="7">
          </div>
        </div>

        <div class="color-control">
          <label>Brand Name</label>
          <input
            type="text"
            id="brandName"
            value="Your Agency"
            style="padding: 10px 12px; border: 2px solid #e5e7eb; border-radius: 8px;"
          >
        </div>

        <div class="color-control">
          <label>Title</label>
          <input
            type="text"
            id="widgetTitle"
            value="Search Flights"
            style="padding: 10px 12px; border: 2px solid #e5e7eb; border-radius: 8px;"
          >
        </div>
      </div>

      <div style="margin-bottom: 12px; font-weight: 500; color: #4b5563;">
        Preset Themes:
      </div>
      <div class="preset-colors">
        <button class="preset-btn" onclick="applyPreset('blue')">
          üîµ Blue (Default)
        </button>
        <button class="preset-btn" onclick="applyPreset('red')">
          üî¥ Red
        </button>
        <button class="preset-btn" onclick="applyPreset('purple')">
          üü£ Purple
        </button>
        <button class="preset-btn" onclick="applyPreset('green')">
          üü¢ Green
        </button>
        <button class="preset-btn" onclick="applyPreset('dark')">
          ‚ö´ Dark
        </button>
      </div>

      <div id="custom-widget" class="widget-wrapper"></div>
    </div>

    <!-- Example Integrations -->
    <div class="examples-grid">
      <!-- Example 1: Simple Auto-Init -->
      <div class="example-card">
        <h3 class="example-title">Simple Auto-Init</h3>
        <p class="example-desc">
          Add one div with data attribute and the widget auto-initializes
        </p>
        <pre style="background: #f9fafb; padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 12px; margin-bottom: 16px;"><code>&lt;div id="widget1"
  data-aviaframe-widget
  data-brand-name="Travel Pro"
  data-brand-color="#3b82f6"
&gt;&lt;/div&gt;</code></pre>

        <div
          id="widget1"
          data-aviaframe-widget
          data-brand-name="Travel Pro"
          data-brand-color="#3b82f6"
        ></div>
      </div>

      <!-- Example 2: Custom Configuration -->
      <div class="example-card">
        <h3 class="example-title">Russian Language</h3>
        <p class="example-desc">
          Fully translated widget with custom labels
        </p>
        <div id="widget2"></div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>
        <strong>Aviaframe Widget v1.0.0</strong><br>
        <a href="EMBED_GUIDE.md" target="_blank">Documentation</a> ‚Ä¢
        <a href="https://github.com/Sergiodan2013/aviaframe" target="_blank">GitHub</a>
      </p>
    </div>
  </div>

  <!-- Load Widget Script -->
  <script src="aviaframe-widget.js"></script>

  <script>
    // Custom widget instance
    let customWidget = null;

    // Initialize custom widget
    function initCustomWidget() {
      const brandColor = document.getElementById('brandColorHex').value;
      const accentColor = document.getElementById('accentColorHex').value;
      const brandName = document.getElementById('brandName').value;
      const title = document.getElementById('widgetTitle').value;

      // Clear existing widget
      document.getElementById('custom-widget').innerHTML = '';

      // Create new widget
      customWidget = new AviaframeWidget('custom-widget', {
        apiUrl: 'http://localhost:5678/webhook/drct',
        brandColor: brandColor,
        accentColor: accentColor,
        brandName: brandName,
        title: title,
        onFlightSelect: function(flight) {
          alert(`Flight selected!\n\n${flight.origin} ‚Üí ${flight.destination}\nPrice: ${flight.price?.total} ${flight.price?.currency}`);
        }
      });
    }

    // Color picker listeners
    document.getElementById('brandColor').addEventListener('input', (e) => {
      document.getElementById('brandColorHex').value = e.target.value;
      initCustomWidget();
    });

    document.getElementById('brandColorHex').addEventListener('input', (e) => {
      if (/^#[0-9A-F]{6}$/i.test(e.target.value)) {
        document.getElementById('brandColor').value = e.target.value;
        initCustomWidget();
      }
    });

    document.getElementById('accentColor').addEventListener('input', (e) => {
      document.getElementById('accentColorHex').value = e.target.value;
      initCustomWidget();
    });

    document.getElementById('accentColorHex').addEventListener('input', (e) => {
      if (/^#[0-9A-F]{6}$/i.test(e.target.value)) {
        document.getElementById('accentColor').value = e.target.value;
        initCustomWidget();
      }
    });

    document.getElementById('brandName').addEventListener('input', () => {
      initCustomWidget();
    });

    document.getElementById('widgetTitle').addEventListener('input', () => {
      initCustomWidget();
    });

    // Preset themes
    const presets = {
      blue: { brand: '#3b82f6', accent: '#10b981' },
      red: { brand: '#ef4444', accent: '#f59e0b' },
      purple: { brand: '#8b5cf6', accent: '#ec4899' },
      green: { brand: '#10b981', accent: '#3b82f6' },
      dark: { brand: '#1f2937', accent: '#6366f1' }
    };

    function applyPreset(theme) {
      const colors = presets[theme];
      document.getElementById('brandColor').value = colors.brand;
      document.getElementById('brandColorHex').value = colors.brand;
      document.getElementById('accentColor').value = colors.accent;
      document.getElementById('accentColorHex').value = colors.accent;
      initCustomWidget();
    }

    // Initialize custom widget on load
    window.addEventListener('DOMContentLoaded', () => {
      initCustomWidget();

      // Russian language widget
      new AviaframeWidget('widget2', {
        apiUrl: 'http://localhost:5678/webhook/drct',
        brandName: '–ê–≤–∏–∞—Ç–∏–∫–µ—Ç',
        brandColor: '#ef4444',
        accentColor: '#f59e0b',
        labels: {
          origin: '–û—Ç–∫—É–¥–∞',
          destination: '–ö—É–¥–∞',
          departDate: '–î–∞—Ç–∞ –≤—ã–ª–µ—Ç–∞',
          returnDate: '–û–±—Ä–∞—Ç–Ω–æ',
          adults: '–í–∑—Ä–æ—Å–ª—ã–µ',
          children: '–î–µ—Ç–∏',
          infants: '–ú–ª–∞–¥–µ–Ω—Ü—ã',
          cabinClass: '–ö–ª–∞—Å—Å',
          searchButton: '–ù–∞–π—Ç–∏ —Ä–µ–π—Å—ã',
          loading: '–ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤...',
          noResults: '–†–µ–π—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ',
          selectFlight: '–í—ã–±—Ä–∞—Ç—å',
          priceFrom: '–û—Ç'
        }
      });
    });
  </script>
</body>
</html>
